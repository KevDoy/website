---
import Twitter from 'twitter'
import Button from '../components/LinkButton.astro'
import Layout from '../layouts/Default.astro'
import Tweets from '../components/Tweets.astro'

const client = new Twitter({
  consumer_key: import.meta.env.PUBLIC_TWITTER_CONSUMER_KEY,
  consumer_secret: import.meta.env.PUBLIC_TWITTER_CONSUMER_SECRET,
  bearer_token: import.meta.env.PUBLIC_TWITTER_BEARER_TOKEN,
})

const params = {
  screen_name: 'AiryxOS',
  count: 3,
  exclude_replies: true,
  include_rts: false,
  tweet_mode: 'extended',
}

const timeline = await client.get('statuses/user_timeline', params).catch((err) => {
  console.error(err)
})
---
<Layout>
  <section class="u-container home__section home__section--hero">
    <header class="section__header section__header--hero">
      <h1 class="hero__title">
        airyxOS
      </h1>
      <h2 class="h4 hero__punchline">
        <span>Finesse of macOS.</span>
        <span>Freedom of FreeBSD.</span>
      </h2>
    </header>

    <p class="hero__desc">
      We love macOS, but we‚Äôre not a fan of the ever-closing hardware and ecosystem. So we created airyxOS&nbsp;&mdash;&nbsp;an OS aimed to provide the finesse of macOS with the freedom of FreeBSD.
    </p>

    <div class="hero__ctas">
      <Button href="https://github.com/mszoek/airyx/releases" text="Download airyxOS" />
      <Button type="secondary" href="/more" class="hero__cta__learn" text="Learn More" />
    </div>

    <footer class="hero__footer">
      This is a developer preview image that‚Äôs mainly intended for helping build the system. We recommend running in a virtual machine, although it should work on any hardware supported by FreeBSD 12.2 with at least 4GB (8GB recommended) RAM.
    </footer>
  </section>

  <section class="u-container home__section home__section--features">
    <header class="section__header">
      <h2 class="section__header__title">
        Project Goals
      </h2>

      <p class="h3 section__header__hl">Features that you‚Äôd love.</p>

      <p class="section__header__text">
        We intend to bring many of the features you‚Äôve come to love from macOS to
        airyxOS like clean installs, global menus, and drag-and-drop installs.
      </p>
    </header>

    <ul class="features__list">
      <li class="feature feature--clean-design">
        <img alt="An illustration of a clean window design" src="/images/features/clean-design.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Clean Design</h3>
          <!-- <p class="feature__para">
            Fluid and elegant design reminiscent of Aqua.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="An illustration of a global menu" src="/images/features/global-menu.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Global Menus</h3>
          <!-- <p class="feature__para">
            Find all your commands in one place.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="An illustration of Shift and S keys" src="/images/features/shortcuts.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Consistent Shortcuts</h3>
          <!-- <p class="feature__para">
            Consistent keyboard shortcuts and menus.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="An illustration of an app ready to be dragged to Applications folder" src="/images/features/simple-installs.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Simple Installs</h3>
          <!-- <p class="feature__para">
            Drag-and-drop application installers.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="Four familiar folders - Application, System, Library, and Users" src="/images/features/familiar-folders.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Familiar Folders</h3>
          <!-- <p class="feature__para"></p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="An illustration with some Cocoa Appkit code" src="/images/features/cocoa-apis.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Cocoa APIs</h3>
          <!-- <p class="feature__para">
            Source compatibility with Cocoa APIs.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="An illustration of the macOS‚Äô open command" src="/images/features/commands.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Nifty Commands</h3>
          <!-- <p class="feature__para">
            Familiar commands like launchctl and open.
          </p> -->
        </div>
      </li>
      <li class="feature">
        <img alt="The FreeBSD devil from the bottom" src="/images/features/super-stability.svg"/>
        <div class="feature__info">
          <h3 class="feature__title">Superb Stability</h3>
          <!-- <p class="feature__para">
            Stable, secure, performant.
          </p> -->
        </div>
      </li>
    </ul>
  </section>

  <section class="u-container home__section home__section--apps">
    <header class="section__header">
      <h2 class="section__header__title">
        Apps
      </h2>

      <p class="h3 section__header__hl">We‚Äôve your apps covered.</p>

      <p class="section__header__text">
        All of your FreeBSD ports and apps, Linux apps, and even trivial Darwin
        &amp; macOS binaries can now run on airyxOS. And we‚Äôre actively working on
        improving it!
      </p>
    </header>

    <ul class="apps__list">
      <li class="apps__list__source">
        <div class="apps__list__details">
          <h4>airyOS, Always</h4>
          <p>
            We're building familiar apps native to airyxOS, packaged as portable
            .app bundles and built with our core technologies of Cocoa, Qt, and
            Mach. These are guaranteed to work and fit seamlessly into your desktop.

          </p>
        </div>
      </li>
      <li class="apps__list__source">
        <div class="apps__list__details">
          <h4>FreeBSD, Mostly</h4>
          <p>
            Most FreeBSD ports and packages continue to work on airyxOS right out
            of the box.
          </p>
        </div>
      </li>
      <li class="apps__list__source">
        <div class="apps__list__details">
          <h4>Linux, Sometimes</h4>
          <p>
            Many Linux applications are expected to work with FreeBSD‚Äôs emulation
            layer.
          </p>
        </div>
      </li>
      <li class="apps__list__source">
        <div class="apps__list__details">
          <h4>Cocoa, May Be</h4>
          <p>
            Trivial macOS and Darwin applications may run directly on airyxOS with
            our in-development Translator. AppKit-based source code may build and
            run natively.
          </p>
        </div>
      </li>
    </ul>
  </section>

  <section class="u-container home__section">
    <header class="section__header">
      <h2 class="section__header__title">
        Get Involved
      </h2>

      <p class="h3 section__header__hl">Don‚Äôt be shy, come talk.</p>

      <p class="section__header__text">
        If this sounds like your dream system, please help us make it a reality!
        We‚Äôve got a Discord, IRC, and Matrix. Chats are bridged.
      </p>
    </header>

    <ul class="contribute__list">
      <li>
        <span>üìñ</span>
        <span>
          Read the <a href="https://airyx.miraheze.org/wiki/Main_Page">project wiki</a>
          to find answers or troubleshoot.
        </span>
      </li>
      <li>
        <span>üôãüèΩ‚Äç‚ôÇÔ∏è</span>
        <span>
          Ask questions on the
          <a href="https://github.com/mszoek/airyx/discussions">discussion forum</a>.
        </span>
      </li>
      <li>
        <span>üí¨</span>
        <span>
          Hang out with us and others like you on
          <a href="https://discord.com/invite/8caJbAGNwY">Discord</a>,
          <a href="https://web.libera.chat/?channel=#airyx">IRC</a>, or
          <a href="https://app.element.io/#/room/#airyx:matrix.org">Matrix</a>.
        </span>
      </li>
    </ul>
  </section>

  <section class="u-container home__section">
    <header class="section__header">
      <h2 class="section__header__title">
        Spotlight
      </h2>

      <p class="h3 section__header__hl">Sometimes we get covered.</p>

      <p class="section__header__text">
        <a href="https://console.substack.com/p/console-67">Console issue #67</a>
        featured us along with an interview!
        <a href="https://linuxgamecast.com/">LinuxGameCast</a>
        also gave us a quick look in their
        <a href="https://linuxgamecast.com/2021/08/lwdw-287-turbocharging-firefox-nvme-for-pi/">LWDW episode 287</a>.
      </p>
    </header>
  </section>

  <section class="u-container home__section">
    <header class="section__header">
      <h2 class="section__header__title">
        Tweets
      </h2>

      <p class="h3 section__header__hl">Stay up-to date.</p>

      <p class="section__header__text">
        <a href="https://twitter.com/AiryxOS">Follow us on Twitter</a> to stay in the loop of freshest features and fixes
        we've pushed.
      </p>
    </header>

    <Tweets tweets={timeline} />
  </section>
</Layout>

<style>
  .home__section {
    padding-block: 2rem;

    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .section__header {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .home__section :--headings {
    & em {
      font-style: normal;
      color: var(--color-primary);
    }
  }

  .home__section--hero {
    align-items: center;
    text-align: center;

    @media (--viewport-medium) {
      padding-block: 2rem;
    }
  }

  .section__header__title {
    font-size: 1rem;
    color: var(--color-secondary);
    letter-spacing: normal;
    font-weight: var(--font-semibold);
  }

  .section__header__hl {
    font-weight: var(--font-bold);
    letter-spacing: -0.02em;
    line-height: 1;
  }

  .section__header__text {
    max-width: 50ch;
    font-size: 0.875rem;
    color: var(--color-text-muted);
  }

  .section__header--hero {
    gap: 1rem;
  }

  .hero__title {
    font-size: 4rem;
  }

  .hero__punchline {
    font-weight: var(--font-semibold);
    -webkit-text-fill-color: transparent;

    background-color: var(--color-primary);
    background-image: linear-gradient(
      268.67deg,
      var(--color-primary) 3.43%,
      var(--color-secondary) 99%
    );
    background-size: 100%;
    background-clip: text;

    & span {
      white-space: nowrap;
    }
  }

  .hero__desc {
    max-width: 50ch;
    color: var(--color-text-muted);
  }

  .hero__ctas {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
  }

  .hero__cta__learn {
    color: var(--color-text-muted);
  }

  .hero__footer {
    max-width: 80ch;
    font-size: 0.75rem;
    color: var(--color-text-muted);
  }

  .features__list {
    display: grid;
    gap: 2rem;
    grid-template-columns: repeat(1, 1fr);
    width: 100%;

    @media (--viewport-medium) {
      grid-template-columns: repeat(2, 1fr);
    }

    @media (--viewport-super-large) {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  .feature {
    display: flex;
    flex-direction: column;
    border-radius: 16px;
    overflow: hidden;
    background-color: white;
    border: 1px solid var(--color-border);
    box-shadow: var(--shadow-elevation-medium);
  }

  .feature__info {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .feature__title,
  .feature__para {
    margin: 0;
  }

  .feature__para {
    line-height: 1.5;
    font-size: 0.9em;
  }

  .feature__title {
    font-size: 1rem;
  }

  .home__section--apps {
    display: flex;
    flex-direction: column;
  }

  .apps__list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
    counter-reset: apps;

    @media (--viewport-large) {
      grid-template-columns: 1fr 1fr;
      grid-template-rows: 1fr 1fr;
      grid-auto-flow: column;
      gap: 2rem;
    }
  }

  .apps__list__source {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
  }

  .apps__list__details {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .apps__list__details p {
    color: var(--color-text-muted);
    font-size: 0.875rem;
  }

  .apps__list__source::before {
    counter-increment: apps;
    content: counter(apps);
    font-variant-numeric: tabular-nums;

    line-height: 0.8;
    color: var(--color-primary);
    font-size: 3rem;
    font-weight: var(--font-bold);
  }

  .contribute__list {
    font-size: 0.875rem;
  }

  .contribute__list li {
    display: flex;
    gap: 0.8ch;
    margin-block-end: 0.25rem;
  }
</style>
